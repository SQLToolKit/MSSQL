<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TempdbUsage</title>
</head>
<body>

<pre style="font-family: Calibri; font-size: 16px; margin:30px 30px 30px 30px">
<h2>Query to see who is using Tempdb database</h2><hr>
USE tempdb;

SELECT
    DB_NAME(database_id) AS DatabaseName,
    OBJECT_NAME(object_id, database_id) AS ObjectName,
    type_desc AS ObjectType,
    user_object_id,
    session_id,
    login_name,
    reads,
    writes,
    logical_reads
FROM
    sys.dm_db_task_space_usage
    INNER JOIN sys.dm_exec_sessions
        ON session_id = session_id
WHERE
    database_id = DB_ID('tempdb')
ORDER BY
    reads + writes + logical_reads DESC;
</pre>
    
</body>
</html>